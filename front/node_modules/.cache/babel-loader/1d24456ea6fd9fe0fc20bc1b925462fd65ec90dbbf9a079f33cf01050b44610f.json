{"ast":null,"code":"var _jsxFileName = \"D:\\\\Full-stack\\\\bootcamp-henry\\\\proyecto-Apps\\\\rick_and_morty_JuanFacundoTam\\\\front\\\\src\\\\components\\\\Card\\\\Card.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\n// import styled from \"styled-components\";\nimport styles from \"./Card.module.css\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { getFavorites } from \"../../redux/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { motion } from \"framer-motion\";\n\n// { id, name, species, gender, image, onClose }\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Card(props) {\n  _s();\n  const [isFav, setIsFav] = useState(false);\n  //const { allCharacters } = useSelector((state) => state);\n  const {\n    myFavorites\n  } = useSelector(state => state);\n  const dispatch = useDispatch();\n  const {\n    pathname\n  } = useLocation();\n  useEffect(() => {\n    const isFavorite = myFavorites.some(fav => fav.id === props.id);\n    setIsFav(isFavorite);\n  }, [myFavorites, props.id]);\n\n  // useEffect(() => {\n  //   myFavorites.forEach((fav) => {\n  //     if (fav.id === props.id) {\n  //       setIsFav(true);\n  //     }\n  //   });\n\n  // }, [myFavorites]);\n\n  const addFavorite = async () => {\n    const {\n      id,\n      name,\n      status,\n      species,\n      gender,\n      origin,\n      image\n    } = props;\n    const body = {\n      id,\n      name,\n      status,\n      species,\n      gender,\n      origin: origin.name,\n      image\n    };\n    console.log(origin.name);\n    await axios.post(\"http://localhost:3001/rickandmorty/fav\", body);\n    console.log(\"Adherido a favoritos\");\n  };\n  const deleteFavorite = async id => {\n    await axios.delete(`http://localhost:3001/rickandmorty/fav/${id}`);\n    // dispatch(getFavorites());\n    alert(\"Eliminado de los favoritos con exito\");\n    dispatch(getFavorites());\n  };\n  const handleFavorite = () => {\n    if (isFav) {\n      deleteFavorite(props.id);\n      setIsFav(false);\n    } else {\n      addFavorite(props);\n      setIsFav(true);\n    }\n  };\n  const handleDelete = () => {\n    props.onClose(props.id);\n    // props.deleteFavorite(props.id)\n    // dispatch(deleteFavorite(props.id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: styles.container,\n    initial: {\n      opacity: 0,\n      scale: 0.95\n    },\n    animate: {\n      opacity: 1,\n      scale: 1\n    },\n    transition: {\n      duration: 0.1\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.divButton,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${isFav ? styles.actHeart : styles.desHeart} ${styles.heartbtn}`,\n        onClick: handleFavorite,\n        children: \"\\u2764\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), pathname !== \"/favorites\" && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.closebtn,\n        onClick: handleDelete,\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: styles.image,\n      src: props.image,\n      alt: \"Imagen de Rick\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.containertitles,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/detail/${props.id}`,\n        style: {\n          textDecoration: \"none\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: styles.title,\n          children: props.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.divhab,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: props.species\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: props.gender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n// const mapStateToProps = (state) => {\n//   return {\n//     myFavorites: state.myFavorites,\n//   };\n// }\n// const mapDispatchToProps = (dispatch) => {\n// return {\n//   deleteFavorite: (id) => {\n//     dispatch(deleteFavorite(id))\n//   }\n// }\n// }\n\n//sacar el export de arriba para poner el de abajo\n// export default connect(mapStateToProps, mapDispatchToProps)(Card);\n_s(Card, \"nsYflWYb7VDdx3+wrkuy3f5vZTw=\", false, function () {\n  return [useSelector, useDispatch, useLocation];\n});\n_c = Card;\nvar _c;\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","axios","useState","useEffect","styles","Link","useLocation","getFavorites","useDispatch","useSelector","motion","jsxDEV","_jsxDEV","Card","props","_s","isFav","setIsFav","myFavorites","state","dispatch","pathname","isFavorite","some","fav","id","addFavorite","name","status","species","gender","origin","image","body","console","log","post","deleteFavorite","delete","alert","handleFavorite","handleDelete","onClose","div","className","container","initial","opacity","scale","animate","transition","duration","children","divButton","actHeart","desHeart","heartbtn","onClick","fileName","_jsxFileName","lineNumber","columnNumber","closebtn","src","alt","containertitles","to","style","textDecoration","title","divhab","_c","$RefreshReg$"],"sources":["D:/Full-stack/bootcamp-henry/proyecto-Apps/rick_and_morty_JuanFacundoTam/front/src/components/Card/Card.jsx"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\n// import styled from \"styled-components\";\r\nimport styles from \"./Card.module.css\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { getFavorites } from \"../../redux/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { motion } from \"framer-motion\";\r\n\r\n\r\n\r\n\r\n// { id, name, species, gender, image, onClose }\r\n\r\nexport default function Card(props) {\r\n  const [isFav, setIsFav] = useState(false);\r\n  //const { allCharacters } = useSelector((state) => state);\r\n  const { myFavorites } = useSelector((state) => state);\r\n\r\n  const dispatch = useDispatch();\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    const isFavorite = myFavorites.some((fav) => fav.id === props.id);\r\n    setIsFav(isFavorite);\r\n  }, [myFavorites, props.id]);\r\n  \r\n\r\n  // useEffect(() => {\r\n  //   myFavorites.forEach((fav) => {\r\n  //     if (fav.id === props.id) {\r\n  //       setIsFav(true);\r\n  //     }\r\n  //   });\r\n\r\n  // }, [myFavorites]);\r\n\r\n  const addFavorite = async () => {\r\n    const { id, name, status, species, gender, origin, image } = props;\r\n    const body = {\r\n      id,\r\n      name,\r\n      status,\r\n      species,\r\n      gender,\r\n      origin: origin.name,\r\n      image,\r\n    };\r\n    console.log(origin.name)\r\n    await axios.post(\"http://localhost:3001/rickandmorty/fav\", body);\r\n    console.log(\"Adherido a favoritos\");\r\n\r\n  };\r\n\r\n  const deleteFavorite = async (id) => {\r\n    await axios.delete(`http://localhost:3001/rickandmorty/fav/${id}`);\r\n    // dispatch(getFavorites());\r\n    alert(\"Eliminado de los favoritos con exito\");\r\n    dispatch(getFavorites())\r\n  };\r\n\r\n  const handleFavorite = () => {\r\n    if (isFav) {\r\n      deleteFavorite(props.id);\r\n      setIsFav(false);\r\n    } else {\r\n      addFavorite(props);\r\n      setIsFav(true);\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    props.onClose(props.id);\r\n    // props.deleteFavorite(props.id)\r\n    // dispatch(deleteFavorite(props.id));\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className={styles.container}\r\n      initial={{ opacity: 0, scale: 0.95 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      transition={{ duration: 0.1 }}\r\n    >\r\n      <div className={styles.divButton}>\r\n        {/* {\r\n   isFav ? (\r\n      <button onClick={handleFavorite}>‚ù§Ô∏è</button>\r\n   ) : (\r\n      <button onClick={handleFavorite}>ü§ç</button>\r\n   )\r\n} */}\r\n\r\n        <button\r\n          className={`${isFav ? styles.actHeart : styles.desHeart} ${\r\n            styles.heartbtn\r\n          }`}\r\n          onClick={handleFavorite}\r\n        >\r\n          ‚ù§\r\n        </button>\r\n\r\n        {pathname !== \"/favorites\" && (\r\n          <button className={styles.closebtn} onClick={handleDelete}>\r\n            X\r\n          </button>\r\n        )}\r\n      </div>\r\n      <img className={styles.image} src={props.image} alt=\"Imagen de Rick\" />\r\n      <div className={styles.containertitles}>\r\n        <Link to={`/detail/${props.id}`} style={{ textDecoration: \"none\" }}>\r\n          <h2 className={styles.title}>{props.name}</h2>\r\n        </Link>\r\n        <div className={styles.divhab}>\r\n          <h2>{props.species}</h2>\r\n          <h2>{props.gender}</h2>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     myFavorites: state.myFavorites,\r\n//   };\r\n// }\r\n// const mapDispatchToProps = (dispatch) => {\r\n// return {\r\n//   deleteFavorite: (id) => {\r\n//     dispatch(deleteFavorite(id))\r\n//   }\r\n// }\r\n// }\r\n\r\n//sacar el export de arriba para poner el de abajo\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Card);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}